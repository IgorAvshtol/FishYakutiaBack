generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}


model Category {
 id     Int     @default(autoincrement()) @id
 title  String
 foods  Food[]
}


model Food {
  id    Int     @default(autoincrement()) @id
  name  String
  image  String
  price String
  categoryId Int
  category   Category @relation(fields: [categoryId], references: [id])

  orders     OrderFood[]
}


model Order {
   id           Int          @default(autoincrement()) @id
   createdAt    DateTime @default(now())
   userName     String
   userPhone    String
   userAddress  String
   totalAmount  String

   foods        OrderFood[]
}

model OrderFood {
  id         Int    @default(autoincrement()) @id
  orderId    Int
  foodId     Int
  foodCount  Int

  food       Food   @relation(fields: [foodId], references: [id])
  order      Order  @relation(fields: [orderId], references: [id])
}
